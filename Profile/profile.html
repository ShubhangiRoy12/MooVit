<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Profile â€“ MooVit</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="profile.css">
</head>
<body>
  <nav class="main-nav">
    <a href="/main.html" class="logo">MooVit</a>
    <ul class="nav-links">
        <li><a href="/main.html">Dashboard</a></li>
        <li><a href="/Shipments/shipments.html">Shipments</a></li>
        <li><a href="/Vehicles/vechicle.html">Vehicles</a></li>
        <li><a href="/Routes/route.html">Routes</a></li>
        <li><a href="/Schedule/schedule.html">Schedule</a></li>
        <li><a href="/Profile/profile.html">Profile</a></li>
        <li><a href="#" id="logout-link">Logout</a></li>
    </ul>
    <div class="burger">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
    </div>
</nav>

  <main class="profile-container container my-5">
    <div id="loader">
      <div class="spinner"></div>
    </div>

    <div id="profile-content" class="row g-4 hidden">
      <div class="col-lg-8">
        <div class="card profile-card">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-4">
              
              <div id="initials-avatar" class="initials-avatar me-3"></div>

              <div>
                <div id="name-display-container">
                    <h2 id="user-name" class="mb-0"></h2>
                    <button id="edit-name-btn" class="btn btn-sm btn-outline-secondary">Edit</button>
                </div>
                <div id="name-edit-container" class="hidden">
                    <input type="text" id="name-input" class="form-control mb-2">
                    <button id="save-name-btn" class="btn btn-sm btn-success">Save</button>
                    <button id="cancel-name-btn" class="btn btn-sm btn-light">Cancel</button>
                </div>
                <p id="user-email" class="text-muted mb-0"></p>
              </div>
            </div>
            <hr>
            <h5 class="card-title">Account Details</h5>
            <p><strong>Email:</strong> <span id="user-email-detail"></span></p>
            <p><strong>User ID:</strong> <span id="user-id-detail" class="text-muted small"></span></p>
          </div>
        </div>

        <div class="card profile-card mt-4 border-danger">
          <div class="card-header bg-danger text-white">Danger Zone</div>
          <div class="card-body d-flex justify-content-between align-items-center">
            <div>
              <strong>Delete Your Account</strong>
              <p class="mb-0 text-muted small">Once you delete your account, there is no going back. Please be certain.</p>
            </div>
            <button id="delete-account-btn" class="btn btn-danger">Delete Account</button>
          </div>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="card profile-card">
          <div class="card-body">
            <h5 class="card-title mb-3">Quick Access</h5>
            <div class="list-group">
              <a href="/main.html" class="list-group-item list-group-item-action"><i class="fas fa-th-large me-2"></i>Dashboard</a>
              <a href="/Chatbot/index.html" class="list-group-item list-group-item-action"><i class="fas fa-comments me-2"></i>Chatbot Assistant</a>
              <a href="/feedback/feedback.html" class="list-group-item list-group-item-action"><i class="fas fa-comment-dots me-2"></i>Give Feedback</a>
              <a href="#" id="signout-button" class="list-group-item list-group-item-action text-danger"><i class="fas fa-sign-out-alt me-2"></i>Sign Out</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
  <script src="profile.js"></script>
  <script>
    const navSlide = () => {
      const burger = document.querySelector('.burger');
      const nav = document.querySelector('.nav-links');
      burger.addEventListener('click', () => {
        nav.classList.toggle('nav-active');
        burger.classList.toggle('toggle');
      });
    }
    navSlide();
  </script>
</body>
</html>